define("linkify-element",["exports","module","./linkify"],function(e,t,n){"use strict";function o(e,t,n){var o=n[n.length-1];e.replaceChild(o,t);for(var r=n.length-2;r>=0;r--)e.insertBefore(n[r],o),o=n[r]}function r(e,t,o){for(var r=[],i=0;i<e.length;i++){var a=e[i],s=a.isLink&&n.options.resolve(t.validate,a.toString(),a.type);if(a.isLink&&s){var l=a.toHref(t.defaultProtocol),p=n.options.resolve(t.format,a.toString(),a.type),f=n.options.resolve(t.formatHref,l,a.type),u=n.options.resolve(t.attributes,l,a.type),d=n.options.resolve(t.tagName,l,a.type),v=n.options.resolve(t.linkClass,l,a.type),c=n.options.resolve(t.target,l,a.type),m=n.options.resolve(t.events,l,a.type),h=o.createElement(d);if(h.setAttribute("href",f),h.setAttribute("class",v),c&&h.setAttribute("target",c),u)for(var g in u)h.setAttribute(g,u[g]);if(m)for(var y in m)h.addEventListener?h.addEventListener(y,m[y]):h.attachEvent&&h.attachEvent("on"+y,m[y]);h.appendChild(o.createTextNode(p)),r.push(h)}else"nl"===a.type&&t.nl2br?r.push(o.createElement("br")):r.push(o.createTextNode(a.toString()))}return r}function i(e,t,a){if(!e||"object"!=typeof e||e.nodeType!==s)throw new Error("Cannot linkify "+e+" - Invalid DOM Node type");if("A"===e.tagName)return e;for(var p=e.firstChild;p;){switch(p.nodeType){case s:i(p,t,a);break;case l:var f=p.nodeValue,u=n.tokenize(f),d=r(u,t,a);o(e,p,d),p=d[d.length-1]}p=p.nextSibling}return e}function a(e,t){var o=arguments.length<=2||void 0===arguments[2]?null:arguments[2];try{o=o||window&&window.document||global&&global.document}catch(r){}if(!o)throw new Error("Cannot find document implementation. If you are in a non-browser environment like Node.js, pass the document implementation as the third argument to linkifyElement.");return t=n.options.normalize(t),i(e,t,o)}var s=1,l=3;a.helper=i,a.normalize=n.options.normalize,t.exports=a});